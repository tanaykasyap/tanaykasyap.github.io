/* ================================
   Vars & Base
=================================== */
:root{
  --accent: #7c3aed;        /* primary purple */
  --portrait-size: 168px;   /* sidebar portrait size */
}

body{
  font-family: Georgia,'Iowan Old Style','Palatino Linotype','Book Antiqua',Palatino,'Times New Roman',Times,serif;
  line-height: 1.6;
}

h1,h2,h3,h4,h5,h6{
  letter-spacing: -.015em;
  font-weight: 700;
}

a{
  color: var(--accent);
  text-underline-offset: .2em;
  text-decoration-thickness: .07em;
}
a:hover{ color: #5b21b6; }

@media (min-width:1200px){
  .page-layout-article .page-columns .content{ max-width: 900px; }
}

/* ================================
   Sidebar (layout, title, search)
=================================== */
.sidebar{ border-right: 1px solid rgba(0,0,0,.06); }

/* Full-height left sidebar */
#quarto-sidebar{
  position: sticky;
  top: 0;
  height: 100vh;
  overflow: auto;
  padding-bottom: 2rem;
  border-right: 1px solid rgba(0,0,0,.06);
}

/* Ensure main content never creeps under the sidebar */
#quarto-content{
  position: relative;
  z-index: 0;
}

/* Center the sidebar title and align with portrait below */
.sidebar .sidebar-title{ font-weight: 800; letter-spacing: -.02em; }

#quarto-sidebar .sidebar-title,
nav.sidebar .sidebar-title,
aside.sidebar .sidebar-title{
  text-align: center;
  margin: 0 auto .35rem auto;
  padding-left: 0;
  padding-right: 0;
}

/* ================================
   Hero (top of About)
=================================== */
.hero{
  margin: 0 0 1.25rem 0;
  padding: 1.25rem;
  border-radius: 14px;
  background: linear-gradient(180deg, rgba(124,58,237,.06), rgba(124,58,237,.02));
  border: 1px solid rgba(124,58,237,.12);
}
.hero .name{
  font-size: clamp(1.9rem, 4.8vw, 3rem);
  line-height: 1.08;
  margin-bottom: .2rem;
}
.hero .fullname{ font-size: .95rem; opacity: .85; margin-bottom: .2rem; }
.hero .kicker{ font-size: 1.05rem; margin-bottom: .6rem; }

/* badges in hero can stay pill-shaped */
.hero .badges .pill{
  display: inline-block;
  border: 1px solid rgba(0,0,0,.1);
  border-radius: 999px;
  padding: .35rem .65rem;
  margin: .4rem .4rem .4rem 0;
  font-size: .95rem;
  background: #fff;
}

/* ================================
   Sidebar Portrait (circle headshot)
=================================== */
.sidebar-photo{
  width: var(--portrait-size);
  margin: .25rem auto .85rem auto;
  text-align: center;
}

.sidebar .photo-frame{
  width: var(--portrait-size);
  height: var(--portrait-size);
  padding: 4px;
  border-radius: 50%;
  margin: 0 auto;
  background: radial-gradient(ellipse at top, rgba(124,58,237,.18), rgba(124,58,237,.06));
}

.sidebar .photo-frame img{
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
  object-position: center;
  box-shadow: 0 10px 18px rgba(0,0,0,.12);
  transition: opacity .15s ease;
}
.fadeout{ opacity: 0 !important; }

/* Button under the portrait */
#toggle-photo{
  width: var(--portrait-size);
  display: inline-block;
}

/* tidy spacing around title/search relative to photo block */
.sidebar .sidebar-title + .sidebar-photo{ margin-top: .5rem; }
.sidebar .sidebar-photo + .sidebar-search{ margin-top: .75rem; }

/* ================================
   Utilities / Buttons
=================================== */
.btn-ghost{
  border-radius: 12px;
  border: 1px solid rgba(0,0,0,.12);
  padding: .5rem .85rem;
  background: transparent;
}
.btn-ghost:hover{ border-color: var(--accent); color: var(--accent); }

/* simple selected-pubs list spacing (if used anywhere) */
.selpubs li{ margin-bottom: .55rem; }

/* Nice section spacing on pages with title-block */
#title-block-header + main.content{ padding-top: .5rem; }

/* ================================
   Working Papers (toggles)
=================================== */
.wp-item{ margin-bottom: 2rem; }
.wp-meta{ font-size: .95rem; opacity: .85; margin: .15rem 0 .75rem; }

.wp-controls{
  display: flex;
  gap: .5rem;
  flex-wrap: wrap;
  margin-bottom: .6rem;
}
details.toggle{ display: inline-block; }

/* RECTANGLE toggles (no circular pills) */
summary.pillbtn{
  list-style: none;
  cursor: pointer;
  display: inline-block;
  padding: .44rem .82rem;
  border-radius: 12px;                    /* <— soft rectangle */
  border: 1px solid rgba(0,0,0,.12);
  background: #fff;
  font-weight: 600;
}
summary.pillbtn::marker,
summary.pillbtn::-webkit-details-marker{ display: none; }
details[open] > summary.pillbtn{
  border-color: var(--accent);
  color: var(--accent);
}

.toggle-body{
  margin-top: .5rem;
  padding: .75rem .9rem;
  border: 1px solid rgba(0,0,0,.08);
  border-radius: 12px;
  background: rgba(124,58,237,.03);
}

.presented{
  margin-top: .6rem;
  font-size: .95rem;
  opacity: .9;
}

/* (kept only if you ever embed PDFs; otherwise harmless) */
.pdf-embed{
  width: 100%;
  height: 520px;
  border: 0;
  border-radius: 10px;
  background: #fff;
  box-shadow: 0 8px 18px rgba(0,0,0,.06);
}

/* ================================
   Download links styled as rectangles
=================================== */
a.download-pill{
  display: inline-block;
  padding: .44rem .9rem;
  border-radius: 12px;                    /* <— soft rectangle */
  border: 1px solid var(--accent);
  font-weight: 600;
  text-decoration: none;
  color: var(--accent);
}
a.download-pill:hover{
  background: rgba(124,58,237,.08);
  text-decoration: none;
}

/* ================================
   Publications (soft toggles & links)
=================================== */
.pub-item{ margin-bottom: 2rem; }
.pub-authors{ font-style: italic; margin: .25rem 0 .35rem; }
.pub-meta{ font-size: .95rem; opacity: .9; margin-bottom: .5rem; }

/* Softer rectangle toggle for publications */
.pillbtn--soft{
  list-style: none;
  cursor: pointer;
  display: inline-block;
  padding: .42rem .86rem;
  border-radius: 12px;                    /* <— soft rectangle */
  border: 1px solid rgba(0,0,0,.16);
  background: #fff;
  color: #444;
  font-weight: 600;
}
summary.pillbtn--soft::marker,
summary.pillbtn--soft::-webkit-details-marker{ display: none; }
details[open] > summary.pillbtn--soft{
  border-color: rgba(124,58,237,.35);
  color: #5b21b6;
  background: rgba(124,58,237,.06);
}

/* Same content box as working papers */
.pub-item .toggle-body{
  margin-top: .5rem;
  padding: .75rem .9rem;
  border: 1px solid rgba(0,0,0,.08);
  border-radius: 12px;
  background: rgba(124,58,237,.03);
}

/* Direct PDF link styled like a soft rectangle (no dropdown) */
a.pillbtn--soft{
  display: inline-block;
  padding: .42rem .86rem;
  border-radius: 12px;                    /* <— soft rectangle */
  border: 1px solid rgba(0,0,0,.16);
  background: #fff;
  color: #444;
  font-weight: 600;
  text-decoration: none;
}
a.pillbtn--soft:hover{
  border-color: rgba(124,58,237,.35);
  background: rgba(124,58,237,.06);
  color: #5b21b6;
}

/* Make Abstract (summary) and PDF (a) chips identical in height/centering */
summary.pillbtn--soft,
a.pillbtn--soft{
  display: inline-flex;     /* same box model */
  align-items: center;      /* vertical centering */
  line-height: 1.1;         /* identical text height */
}

/* EXACT match for Abstract (summary) and PDF (link) chips */
:root { --chip-h: 44px; }  /* tweak if you want taller/shorter chips */

summary.pillbtn--soft,
a.pillbtn--soft{
  display: inline-flex;          /* same layout model */
  align-items: center;           /* vertical centering */
  justify-content: center;
  height: var(--chip-h);         /* identical height */
  padding: 0 .86rem;             /* same side padding */
  margin: 0;                     /* kill any UA margins */
  box-sizing: border-box;        /* include border in height */
  font-size: 1rem;               /* lock text size */
  line-height: 1;                /* no extra vertical space */
  border-radius: 12px;           /* same rounded rectangle */
  border: 1px solid rgba(0,0,0,.16);
  background: #fff;
  color: #444;
  font-weight: 600;
  text-decoration: none;         /* for the <a> */
}

/* same hover/open states as before */
details[open] > summary.pillbtn--soft{
  border-color: rgba(124,58,237,.35);
  color: #5b21b6;
  background: rgba(124,58,237,.06);
}
a.pillbtn--soft:hover{
  border-color: rgba(124,58,237,.35);
  background: rgba(124,58,237,.06);
  color: #5b21b6;
}



/* CV cards */
.cv-card{
  padding:.75rem .95rem;
  border:1px solid rgba(0,0,0,.08);
  border-radius:12px;
  background:#fff;
  margin:0 0 1rem 0;
}
.cv-head{
  display:flex; justify-content:space-between; gap:1rem; flex-wrap:wrap;
  margin-bottom:.25rem;
}
.cv-title{ font-weight:700; }
.cv-inst{ opacity:.9; }
.cv-dates{ opacity:.65; white-space:nowrap; }
.cv-subtle{ opacity:.85; margin:.15rem 0 .35rem; }

.cv-keymods-label,
.cv-subsection{ font-weight:700; margin-top:.35rem; }
.cv-keymods{ margin:.25rem 0 .1rem 1.1rem; }
.cv-keymods li{ margin:.18rem 0; }

.cv-bullets{ margin:.2rem 0 .2rem 1.1rem; }
.cv-bullets li{ margin:.2rem 0; }

.cv-works{ margin:.2rem 0 .2rem 1.1rem; }
.cv-works li{ margin:.2rem 0; }



.icon{ vertical-align:-2px; }
/* structure inside cv-head when using fenced divs */
.cv-head{display:flex;justify-content:space-between;gap:1rem;flex-wrap:wrap;margin-bottom:.25rem;}
.cv-left{display:flex;flex-direction:column;gap:.1rem;}


/* Hero emblem (Yale shield) */
.hero { position: relative; } /* anchor for absolute positioning */

.hero-emblem{
  position: absolute;
  top: 12px;
  right: 14px;
  display: inline-block;
  line-height: 0;       /* removes extra inline spacing */
  z-index: 1;
  opacity: .95;
  transition: transform .15s ease, opacity .15s ease;
}

.hero-emblem img{
  display: block;
  width: 60px;          /* tweak to taste: 52–72px works well */
  height: auto;
  filter: drop-shadow(0 2px 6px rgba(0,0,0,.12));
}

/* Subtle hover */
.hero-emblem:hover{ transform: scale(1.03); opacity: 1; }

/* Responsive sizes */
@media (min-width: 900px){
  .hero-emblem img{ width: 72px; }
}
@media (max-width: 520px){
  .hero-emblem{ top: 10px; right: 10px; }
  .hero-emblem img{ width: 46px; }
}

/* Only keep the full-height sticky sidebar on LARGE screens */
@media (min-width: 992px) {
  #quarto-sidebar {
    position: sticky;
    top: 0;
    height: 100vh;
    overflow: auto;
    padding-bottom: 2rem;
    border-right: 1px solid rgba(0,0,0,.06);
  }
}

/* On MOBILE, let Quarto control the drawer (reset our overrides) */
@media (max-width: 991.98px) {
  #quarto-sidebar {
    position: static;       /* don't fight Quarto's off-canvas drawer */
    height: auto;
    overflow: visible;
    border-right: none;     /* Quarto applies its own styles */
  }

  /* Tidy the portrait block for the narrow drawer */
  :root { --portrait-size: 132px; }
  .sidebar-photo { width: var(--portrait-size); margin: .25rem auto .85rem; }
  #toggle-photo { width: var(--portrait-size); }

  /* Optional: align title nicely in the drawer */
  aside.sidebar .sidebar-title { text-align: center; }
}

/* smoother visual feel */
html { scroll-behavior: auto; } /* let Lenis control it */

@media (prefers-reduced-motion: reduce) {
  * { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important;
      transition-duration: 0.001ms !important; }
}
